---
title: "Modernizing Go programs"
date: 2025-07-28
tags: ["go", "opensource"]
draft: true
---

I have been working with Go programs since Go 1.10 (released in Feb 2018) and have vast experience in refactoring programs.
This article is a manual on how you can improve your Go program with the help of some knowledge and tools.
Some of the refactoring is possible with the help of modern AI agents, but as of July 2025, they can't fully do this work.
I show real-world examples from Open Source Go projects which I refactored.

&lt;!--more--&gt;

The article consists of chapters named by Go versions: "Go 1.25", "Go 1.24", "Go 1.23" etc.
Refactorings for Go 1.22 can be only done for this version and above (Go 1.22, 1.23, 1.24 etc.) due [to version compatibility rules](https://go.dev/doc/go1compat).

TODO: explain why do we need refactoring

## Tools that can be used for modernizing

### Golangci-lint

[Golangci-lint](https://golangci-lint.run/) is a linters runner with the ability to fix lint issues.

TODO: installation manual

### gopls modernize

TODO: description

```sh
go run golang.org/x/tools/gopls/internal/analysis/modernize/cmd/modernize@latest -fix -test ./..
```

### go fix

TODO: explain

### sed

TODO: explain

### grep

TODO: explain

## Go 1.24

## Go 1.23

## Go 1.22
{{ range . }}
### {{ .Header }}

{{ .Body }}

#### Benefit

{{ .Benefit }}

#### Before

```go
{{ .Before }}
```

#### After

```go
{{ .After }}
```

#### Can be fixed with tools

```sh
{{ .Command }}
```

#### Examples

{{ .Examples }}
{{ end }}
## Go 1.20

## Go 1.19

## Go 1.18

## Go 1.17

## Go 1.16

## Go 1.15

## Go 1.14

## Go 1.13

## Go 1.12

## Go 1.11

## Go 1.10

## Go 1.9

## Go 1.8

## Go 1.7

## Go 1.6

## Go 1.5

## Go 1.4

## Go 1.3

## Go 1.2

## Go 1.1
